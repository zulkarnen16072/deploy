(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,e,a){"use strict";a.r(e),a.d(e,"AdminModule",function(){return G});var i=a("ofXK"),o=a("fXoL"),c=a("UbJi"),n=a("tyNb"),s=a("H+bZ"),r=a("/t3+"),d=a("bTqV"),l=a("NFeN"),b=a("XhcP"),u=a("MutI"),p=a("FKr1");let h=(()=>{class t{constructor(t,e,a){this.auth=t,this.router=e,this.fbService=a,this.mode="side"}ngOnInit(){this.isUser=this.fbService.isAppToken()}sign(){this.isUser?confirm("Yakin untuk Keluar?")&&(this.fbService.signOut(),this.isUser=!1,this.router.navigate(["/login"])):this.router.navigate(["login"])}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(c.a),o.Pb(n.a),o.Pb(s.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-admin"]],decls:31,vars:12,consts:[["color","primary",1,"example-header"],["mat-icon-button","",1,"example-icon","uk-margin-medium-right",3,"click"],["id","logo","src","https://firebasestorage.googleapis.com/v0/b/personal-project-tekweb.appspot.com/o/logo%2Flogo_wht.png?alt=media&token=f372cf9b-a07f-405a-b6d5-4373037994fb","alt",""],[1,"uk-width-expand"],[1,"uk-margin-medium-left",3,"click"],["mat-icon-button","",1,"example-icon","favorite-icon","uk-margin-medium-left"],["mat-icon-button","",1,"example-icon"],[1,"example-container"],["opened","",1,"sidenav-left",3,"mode","position","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],[1,"uk-margin-top"],["routerLink","/admin/dashboard"],["matListIcon",""],["matLine",""],["routerLink","/admin/product"],[1,"example-sidenav",3,"mode","position","fixedInViewport","fixedTopGap","fixedBottomGap"],[2,"padding","20px","background-color","#fff"]],template:function(t,e){if(1&t){const t=o.Wb();o.Vb(0,"mat-toolbar",0),o.Vb(1,"button",1),o.cc("click",function(){return o.tc(t),o.rc(15).toggle()}),o.Vb(2,"mat-icon"),o.Ac(3,"menu"),o.Ub(),o.Ub(),o.Vb(4,"span"),o.Qb(5,"img",2),o.Ub(),o.Qb(6,"div",3),o.Vb(7,"div",4),o.cc("click",function(){return e.sign()}),o.Vb(8,"button",5),o.Vb(9,"mat-icon"),o.Ac(10),o.Ub(),o.Ub(),o.Vb(11,"button",6),o.Ac(12),o.Ub(),o.Ub(),o.Ub(),o.Vb(13,"mat-sidenav-container",7),o.Vb(14,"mat-sidenav",8,9),o.Vb(16,"mat-nav-list",10),o.Vb(17,"mat-list-item",11),o.Vb(18,"mat-icon",12),o.Ac(19,"dashboard"),o.Ub(),o.Vb(20,"h3",13),o.Ac(21,"Dashboard"),o.Ub(),o.Ub(),o.Vb(22,"mat-list-item",14),o.Vb(23,"mat-icon",12),o.Ac(24,"local_mall"),o.Ub(),o.Vb(25,"h3",13),o.Ac(26,"Product"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Qb(27,"mat-sidenav",15,9),o.Vb(29,"mat-sidenav-content",16),o.Qb(30,"router-outlet"),o.Ub(),o.Ub()}2&t&&(o.Eb(10),o.Bc(e.isUser?"person":"person_outline"),o.Eb(2),o.Cc(" ",e.isUser?"Log out":"Sign In"," "),o.Eb(2),o.mc("mode",e.mode),o.lc("position","start")("fixedInViewport",!0)("fixedTopGap",65)("fixedBottomGap",0),o.Eb(13),o.mc("mode",e.mode),o.lc("position","end")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0))},directives:[r.a,d.a,l.a,b.b,b.a,u.e,u.c,n.b,u.b,p.j,b.c,n.d],styles:["#logo[_ngcontent-%COMP%]{height:100px;width:160px;padding:10px}.mat-drawer-container[_ngcontent-%COMP%]{background-color:#fff}"]}),t})();var g=a("Wp6s");let m=(()=>{class t{constructor(t){this.fbService=t,this.products=[],this.title="Dashboard"}ngOnInit(){this.fbService.get().subscribe(t=>this.products=t),console.log(this.products)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(s.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-dashboard"]],decls:10,vars:2,template:function(t,e){1&t&&(o.Vb(0,"mat-card"),o.Vb(1,"mat-card-header"),o.Vb(2,"mat-card-title"),o.Ac(3),o.Ub(),o.Ub(),o.Vb(4,"mat-card-content"),o.Vb(5,"h5"),o.Ac(6,"Jumlah Product:"),o.Ub(),o.Vb(7,"h1"),o.Vb(8,"strong"),o.Ac(9),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&t&&(o.Eb(3),o.Bc(e.title),o.Eb(6),o.Bc(e.products.length))},directives:[g.a,g.c,g.e,g.b],styles:[""]}),t})();var f=a("0IaG"),U=a("nYR2"),V=a("Vaw3"),v=a("I/3d");let k=(()=>{class t{constructor(t,e,a,i){this.dialogRef=t,this.data=e,this.storage=a,this.db=i}ngOnInit(){}onFileChange(t){t.target.files.length>0&&(this.selectedItem=t.target.files[0],console.log(this.selectedItem.name))}uploadFile(){let t=this.selectedItem.name.replace(/[^a-z0-9.]+/gi,"").toLowerCase();var e="images/"+Date.now()+"_"+t;this.isUploading=!0;var a=this.storage.ref(e),i=this.storage.upload(e,this.selectedItem);this.uploadPercent=i.percentageChanges(),i.snapshotChanges().pipe(Object(U.a)(()=>{a.getDownloadURL().subscribe(t=>{this.downloadURL=t,this.db.collection("products").doc(this.data.id).update({url:this.downloadURL}).then(t=>{this.isUploading=!1,this.dialogRef.close(),console.log("Berhasil"+t)}).catch(t=>{this.isUploading=!1,console.error("Error"+t)})})})).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(f.f),o.Pb(f.a),o.Pb(V.a),o.Pb(v.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-image-uploader"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["type","file","id","file",3,"change"],["mat-dialog-action","","align","right"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(o.Vb(0,"h1",0),o.Ac(1,"Upload Image"),o.Ub(),o.Vb(2,"div",1),o.Vb(3,"input",2),o.cc("change",function(t){return e.onFileChange(t)}),o.Ub(),o.Ub(),o.Vb(4,"div",3),o.Vb(5,"button",4),o.Ac(6,"Cancel"),o.Ub(),o.Vb(7,"button",5),o.cc("click",function(){return e.uploadFile()}),o.Ac(8),o.Ub(),o.Ub()),2&t&&(o.Eb(7),o.lc("disabled",e.isUploading),o.Eb(1),o.Bc(e.isUploading?"Uploading...":"Upload"))},directives:[f.g,f.d,d.a,f.c],styles:[""]}),t})();var A=a("kmnG"),x=a("qFsG"),w=a("3Pt+"),P=a("d3UM");let I=(()=>{class t{constructor(t,e,a,i){this.dialogRef=t,this.data=e,this.db=a,this.auth=i,this.userData={},this.datas=[]}ngOnInit(){this.auth.user.subscribe(t=>{this.userData=t,console.log("onInit"),console.log(t)})}saveData(){this.dialogRef.close(this.data)}save(){if(null==this.data.id){let t=(new Date).getTime().toString();this.data.uid=this.userData.uid,this.db.collection("products").doc(t).set(this.data).then(t=>{alert("Document successfully written!"),this.dialogRef.close(this.data)}).catch(t=>{console.log(t),alert("Error"+t)})}else this.db.collection("products").doc(this.data.id).update(this.data).then(t=>{alert("Data has Modified !"),this.dialogRef.close()}).catch(t=>{alert("Tidak dapat update Data "+t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(f.f),o.Pb(f.a),o.Pb(v.a),o.Pb(c.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-product-detail"]],decls:30,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","tshirt"],["value","pants"],["value","hoodie"],["type","number","matInput","",3,"ngModel","ngModelChange"],["mat-dialog-action","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"click"]],template:function(t,e){1&t&&(o.Vb(0,"h3",0),o.Ac(1," Detail Product\n"),o.Ub(),o.Vb(2,"div",1),o.Vb(3,"mat-form-field",2),o.Vb(4,"mat-label"),o.Ac(5,"Nama"),o.Ub(),o.Vb(6,"input",3),o.cc("ngModelChange",function(t){return e.data.name=t}),o.Ub(),o.Ub(),o.Vb(7,"mat-form-field",2),o.Vb(8,"mat-label"),o.Ac(9,"Category"),o.Ub(),o.Vb(10,"mat-select",4),o.cc("ngModelChange",function(t){return e.data.category=t}),o.Vb(11,"mat-option",5),o.Ac(12,"T-Shirt"),o.Ub(),o.Vb(13,"mat-option",6),o.Ac(14,"Pants"),o.Ub(),o.Vb(15,"mat-option",7),o.Ac(16,"Hoddie"),o.Ub(),o.Ub(),o.Ub(),o.Vb(17,"mat-form-field",2),o.Vb(18,"mat-label"),o.Ac(19,"Description"),o.Ub(),o.Vb(20,"textarea",3),o.cc("ngModelChange",function(t){return e.data.desc=t}),o.Ub(),o.Ub(),o.Vb(21,"mat-form-field",2),o.Vb(22,"mat-label"),o.Ac(23,"Harga"),o.Ub(),o.Vb(24,"input",8),o.cc("ngModelChange",function(t){return e.data.price=t}),o.Ub(),o.Ub(),o.Ub(),o.Vb(25,"div",9),o.Vb(26,"button",10),o.Ac(27,"Batal"),o.Ub(),o.Vb(28,"button",11),o.cc("click",function(){return e.save()}),o.Ac(29,"Simpan"),o.Ub(),o.Ub()),2&t&&(o.Eb(6),o.lc("ngModel",e.data.name),o.Eb(4),o.lc("ngModel",e.data.category),o.Eb(10),o.lc("ngModel",e.data.desc),o.Eb(4),o.lc("ngModel",e.data.price))},directives:[f.g,f.d,A.b,A.e,x.b,w.c,w.i,w.k,P.a,p.l,w.l,d.a,f.c],styles:[""]}),t})();var D=a("Xa2L"),E=a("Qu3c");function y(t,e){1&t&&(o.Vb(0,"div",2),o.Qb(1,"mat-spinner",3),o.Ub())}function C(t,e){if(1&t){const t=o.Wb();o.Vb(0,"tr"),o.Vb(1,"td"),o.Ac(2),o.Ub(),o.Vb(3,"td"),o.Ac(4),o.Ub(),o.Vb(5,"td"),o.Ac(6),o.Ub(),o.Vb(7,"td"),o.Ac(8),o.Ub(),o.Vb(9,"td"),o.Ac(10),o.Ub(),o.Vb(11,"td"),o.Qb(12,"img",9),o.Ac(13),o.Ub(),o.Vb(14,"td",10),o.Vb(15,"button",11),o.cc("click",function(){o.tc(t);const a=e.$implicit,i=e.index;return o.gc(2).uploadImage(a,i)}),o.Ac(16,"Upload"),o.Ub(),o.Vb(17,"button",11),o.cc("click",function(){o.tc(t);const a=e.$implicit,i=e.index;return o.gc(2).productDetail(a,i)}),o.Ac(18,"Edit"),o.Ub(),o.Vb(19,"button",12),o.cc("click",function(){o.tc(t);const a=e.$implicit;return o.gc(2).deleteProduct(a.id)}),o.Ac(20,"Hapus"),o.Ub(),o.Ub(),o.Ub()}if(2&t){const t=e.$implicit,a=e.index;o.Eb(2),o.Bc(a+1),o.Eb(2),o.Bc(t.name),o.Eb(2),o.Bc(t.price),o.Eb(2),o.Bc(t.category),o.Eb(2),o.Bc(t.desc),o.Eb(2),o.mc("src",t.url,o.uc),o.Eb(1),o.Bc(t.url?"":"Gambar Belum Ada")}}function B(t,e){if(1&t){const t=o.Wb();o.Vb(0,"mat-card"),o.Vb(1,"mat-card-header"),o.Vb(2,"mat-card-title"),o.Ac(3),o.Ub(),o.Ub(),o.Vb(4,"mat-card-content"),o.Vb(5,"div",4),o.Qb(6,"span",5),o.Vb(7,"button",6),o.cc("click",function(){return o.tc(t),o.gc().productDetail({},-1)}),o.Vb(8,"mat-icon"),o.Ac(9,"add"),o.Ub(),o.Ub(),o.Ub(),o.Vb(10,"table",7),o.Vb(11,"thead"),o.Qb(12,"th"),o.Vb(13,"th"),o.Ac(14,"Name"),o.Ub(),o.Vb(15,"th"),o.Ac(16,"Price"),o.Ub(),o.Vb(17,"th"),o.Ac(18,"Kategori"),o.Ub(),o.Vb(19,"th"),o.Ac(20,"Desc"),o.Ub(),o.Vb(21,"th"),o.Ac(22,"#"),o.Ub(),o.Ub(),o.Vb(23,"tbody"),o.zc(24,C,21,7,"tr",8),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&t){const t=o.gc();o.Eb(3),o.Bc(t.title),o.Eb(21),o.lc("ngForOf",t.products)}}let M=(()=>{class t{constructor(t,e,a,i){this.dialog=t,this.fbService=e,this.db=a,this.auth=i,this.products=[],this.userData={},this.title="Product"}ngOnInit(){this.getProduct(),console.log(this.products),this.auth.user.subscribe(t=>{this.userData=t,console.log("User.auth.uid: From product.ts UserData.UID : "+this.userData.uid)})}productDetail(t,e){this.dialog.open(I,{width:"400px",data:t}).afterClosed().subscribe(t=>{})}deleteProduct(t){confirm("Delete Product? ")&&(console.log(t),this.db.collection("products").doc(t).delete().then(t=>{alert("Berhasil"+t)}).catch(t=>{alert("Tidak dapat Hapus"+t)}))}getBooksFire(){this.db.collection("products",t=>(this.isLoading=!0,console.log("Loadings..."+this.userData.uid),t.where("uid","==",this.userData.uid))).valueChanges({idField:"id"}).subscribe(t=>{alert("Berhasil"),this.products=t,this.isLoading=!1},t=>{this.isLoading=!1,alert("Error not reach get products "+t)})}getProduct(){this.isLoading=!0,this.db.collection("products").valueChanges({idField:"id"}).subscribe(t=>{console.log(t),this.products=t,this.isLoading=!1,console.log(t)},t=>{this.isLoading=!1,console.log(t)})}simpleQuery(){this.db.collection("products",t=>t.where("kategori","==","tees")).valueChanges({idField:"id"}).subscribe(t=>{console.log(t[0].id),this.products=t},t=>{console.log("Error: "+t)})}exportComponent(){return console.log("product")}uploadImage(t){this.dialog.open(k,{width:"400px",data:t})}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(f.b),o.Pb(s.a),o.Pb(v.a),o.Pb(c.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px;","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],["diameter","30"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","matTooltip","Add Product","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divide"],[4,"ngFor","ngForOf"],[2,"width","100px",3,"src"],["align","right"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(o.zc(0,y,2,0,"div",0),o.zc(1,B,25,2,"mat-card",1)),2&t&&(o.lc("ngIf",e.isLoading),o.Eb(1),o.lc("ngIf",!e.isLoading))},directives:[i.k,D.b,g.a,g.c,g.e,g.b,d.a,E.a,l.a,i.j],styles:[""]}),t})();var L=a("p5R8");const F=[{path:"",component:h,children:[{path:"dashboard",component:m},{path:"product",component:M}]}];let G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({imports:[[i.c,L.a,w.e,n.c.forChild(F)]]}),t})()}}]);